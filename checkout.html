<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OLDIE ZONE - Checkout</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Syncopate:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/header-footer.css">
    <link rel="stylesheet" href="assets/css/checkout.css">

    <!-- AWS SDK v2 for Location Service (GPS/Geolocation) -->
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.1563.0.min.js"></script>
</head>
<body>
  <header>
        <nav class="navbar section-content">
            <div class="header-top">
        <a href="homepage.html" class="nav-logo" aria-label="Trang chủ Retro Sound">
                    <img src="assets/images/shopname.jpg" width="150" height="60" alt="Retro Sound Logo">
                </a>
                <div class="header-icons" role="group" aria-label="Lối tắt điều hướng">
                    <button type="button" class="header-icon search-btn" aria-label="Tìm kiếm" title="Tìm kiếm">
                        <i class="fa-solid fa-magnifying-glass" aria-hidden="true"></i>
                    </button>
                    <button type="button" class="header-icon cart-btn" id="cartButton" aria-expanded="false" aria-controls="cartTabPanel cartModal" title="Giỏ hàng">
                        <i class="fa-solid fa-cart-shopping" aria-hidden="true"></i>
                        <span class="badge" id="cartBadge"></span>
                    </button>
                    <button type="button" class="header-icon user-btn" id="userBtn" aria-label="Tài khoản" title="Tài khoản">
                        <i class="fa-regular fa-user" aria-hidden="true"></i>
                        <div class="user-dropdown" id="userDropdown">
                            <div class="user-info">
                                <div class="user-avatar">
                                    <i class="fas fa-user-circle"></i>
                                </div>
                                <div class="user-details">
                                    <div class="user-name">Oldiezone Member</div>
                                    <div class="user-rank">Guest</div>
                                </div>
                            </div>
                            <div class="dropdown-divider"></div>
                            <ul class="dropdown-menu">
                                <li><a href="login.html" class="dropdown-link"><i class="fas fa-sign-in-alt"></i>Sign In</a></li>
                                <li><a href="signup.html" class="dropdown-link"><i class="fas fa-user-plus"></i>Register</a></li>
                            </ul>
                        </div>
                    </button>
                    <button class="header-icon chatbot-btn" id="chatbotToggle">
                        <i class="fas fa-robot"></i>
                    </button>
                </div>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
          <a href="audio-products.html" class="nav-link">AUDIO</a>
                    <ul class="submenu">
            <li><a href="audio-cd-products.html" class="submenu-link">CD</a></li>
            <li><a href="audio-vinyl-products.html" class="submenu-link">VINYL</a></li>
                    </ul>
                </li>
        <li class="nav-item"><a href="vhs-products.html" class="nav-link">VHS</a></li>
        <li class="nav-item"><a href="cassette-tape-products.html" class="nav-link">CASSETTE TAPE</a></li>
        <li class="nav-item"><a href="camera-products.html" class="nav-link">POLA CAMERA</a></li>
                <li class="nav-item">
          <a href="accessory-products.html" class="nav-link">ACCESSORIES</a>
                    <ul class="submenu">
            <li><a href="accessory-cassette-player-products.html" class="submenu-link">CASSETTE PLAYER</a></li>
            <li><a href="accessory-ipod-products.html" class="submenu-link">IPOD</a></li>
            <li><a href="accessory-cd-player-products.html" class="submenu-link">CD PLAYER</a></li>
                    </ul>
                </li>
        <li class="nav-item"><a href="retro-cine.html" class="nav-link">CINE ROOM</a></li>
        <li class="nav-item"><a href="market-place.html" class="nav-link">THREAD</a></li>
        <li class="nav-item"><a href="news.html" class="nav-link">NEWS</a></li>
            </ul>
        </nav>
        <div class="search-bar" id="searchBar">
            <div class="search-container">
                <input type="text" placeholder="Tìm kiếm sản phẩm..." class="search-input" id="searchInput">
                <button class="search-close" id="searchClose" aria-label="Đóng tìm kiếm">
                    <i class="fa-solid fa-times"></i>
                </button>
                <div class="search-dropdown" id="searchDropdown"></div>
            </div>
        </div>
    </header>
    
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h2>Processing Your Order...</h2>
            <p>Please wait while we complete your purchase</p>
        </div>
    </div>
    
    <!-- Checkout Content -->
    <div class="checkout-page-wrapper">
        <div class="checkout-content">
            <!-- Progress Steps -->
            <div class="checkout-steps">
                <div class="step active" data-step="1">
                    <div class="step-circle">1</div>
                    <div class="step-label">Customer Info</div>
                </div>
                <div class="step" data-step="2">
                    <div class="step-circle">2</div>
                    <div class="step-label">Product Details</div>
                </div>
                <div class="step" data-step="3">
                    <div class="step-circle">3</div>
                    <div class="step-label">Shipping</div>
                </div>
                <div class="step" data-step="4">
                    <div class="step-circle">4</div>
                    <div class="step-label">Payment</div>
                </div>
                <div class="step" data-step="5">
                    <div class="step-circle">5</div>
                    <div class="step-label">Complete</div>
                </div>
            </div>

            <div class="checkout-layout">
                <!-- Left Column - Checkout Forms -->
                <div class="checkout-forms">
                    <!-- Step 1: Customer Information -->
                    <div class="checkout-form active" id="step1">
                        <div class="form-title">Customer Information</div>
                        <div class="quick-fill-section">
                            <button class="quick-fill-btn" id="useDefaultAddressBtn" type="button">
                                <i class="fas fa-user-check"></i>
                                Use My Saved Address
                            </button>
                            <button class="quick-fill-btn gps-style" id="checkoutGPSBtn" type="button">
                                <i class="fas fa-location-crosshairs"></i>
                                Use GPS Location
                            </button>
                            <button class="quick-fill-btn" onclick="fillDefaultInfo()">
                                <i class="fas fa-magic"></i>
                                Fill Sample Info
                            </button>
                            <p class="quick-fill-note">Quick fill options for convenience</p>
                        </div>
                        <div class="form-section">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">First Name</label>
                                    <input type="text" class="form-input" placeholder="John" id="firstName">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Last Name</label>
                                    <input type="text" class="form-input" placeholder="Doe" id="lastName">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Email</label>
                                <input type="email" class="form-input" placeholder="john.doe@example.com" id="email">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Phone</label>
                                <input type="tel" class="form-input" placeholder="+1 (555) 123-4567" id="phone">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Address</label>
                                <input type="text" class="form-input" placeholder="123 Main Street" id="address">
                            </div>
                            <div class="form-group">
                                <label class="form-label">City</label>
                                <input type="text" class="form-input" placeholder="San Francisco" id="city">
                            </div>
                        </div>
                        <div class="checkout-navigation">
                            <div></div> <!-- Empty div for spacing -->
                            <button class="nav-btn primary" onclick="nextStep(1)">Continue to Products</button>
                        </div>
                    </div>

                    <!-- Step 2: Product Selection -->
                    <div class="checkout-form" id="step2">
                        <div class="form-title">Select Your Products</div>
                        <div class="form-section">
                            <div class="product-option selected" data-product="vinyl" data-price="299.00">
                                <div class="product-image">
                                    <i class="fa-solid fa-record-vinyl"></i>
                                </div>
                                <div class="product-details">
                                    <div class="product-name">Vinyl Record Player - Retro Edition</div>
                                    <div class="product-price">$299.00</div>
                                </div>
                                <div class="quantity-control">
                                    <button class="qty-btn" data-action="decrease">-</button>
                                    <input type="text" class="qty-input" value="1" data-product="vinyl">
                                    <button class="qty-btn" data-action="increase">+</button>
                                </div>
                            </div>
                            <div class="product-option" data-product="cassette" data-price="159.00">
                                <div class="product-image">
                                    <i class="fa-solid fa-cassette-tape"></i>
                                </div>
                                <div class="product-details">
                                    <div class="product-name">Cassette Player - Vintage</div>
                                    <div class="product-price">$159.00</div>
                                </div>
                                <div class="quantity-control">
                                    <button class="qty-btn" data-action="decrease">-</button>
                                    <input type="text" class="qty-input" value="0" data-product="cassette">
                                    <button class="qty-btn" data-action="increase">+</button>
                                </div>
                            </div>
                        </div>
                        <div class="checkout-navigation">
                            <button class="nav-btn" onclick="prevStep(2)">Back</button>
                            <button class="nav-btn primary" onclick="nextStep(2)">Continue to Shipping</button>
                        </div>
                    </div>

                    <!-- Step 3: Shipping Method -->
                    <div class="checkout-form" id="step3">
                        <div class="form-title">Shipping Method</div>
                        <div class="form-section">
                            <div class="shipping-option selected" data-shipping="standard" data-price="9.99">
                                <div class="shipping-info">
                                    <h4>Standard Shipping</h4>
                                    <p>5-7 business days</p>
                                </div>
                                <div class="shipping-price">$9.99</div>
                            </div>
                            <div class="shipping-option" data-shipping="express" data-price="19.99">
                                <div class="shipping-info">
                                    <h4>Express Shipping</h4>
                                    <p>2-3 business days</p>
                                </div>
                                <div class="shipping-price">$19.99</div>
                            </div>
                            <div class="shipping-option" data-shipping="pickup" data-price="0">
                                <div class="shipping-info">
                                    <h4>Store Pickup</h4>
                                    <p>Pick up at nearest store</p>
                                </div>
                                <div class="shipping-price">FREE</div>
                            </div>
                        </div>
                        <div class="checkout-navigation">
                            <button class="nav-btn" onclick="prevStep(3)">Back</button>
                            <button class="nav-btn primary" onclick="nextStep(3)">Continue to Payment</button>
                        </div>
                    </div>

                    <!-- Step 4: Payment Method -->
                    <div class="checkout-form" id="step4">
                        <div class="form-title">Payment Method</div>
                        <div class="form-section">
                            <div class="payment-option selected" data-payment="card">
                                <div class="payment-icon">
                                    <i class="fa-solid fa-credit-card"></i>
                                </div>
                                <div class="payment-info">
                                    <div class="payment-name">Credit/Debit Card</div>
                                    <div class="payment-description">Pay with Visa, Mastercard, or American Express</div>
                                </div>
                            </div>
                            <div class="payment-option" data-payment="paypal">
                                <div class="payment-icon">
                                    <i class="fa-brands fa-paypal"></i>
                                </div>
                                <div class="payment-info">
                                    <div class="payment-name">PayPal</div>
                                    <div class="payment-description">Pay with your PayPal account</div>
                                </div>
                            </div>
                            <div class="payment-option" data-payment="giftcard">
                                <div class="payment-icon">
                                    <i class="fa-solid fa-gift"></i>
                                </div>
                                <div class="payment-info">
                                    <div class="payment-name">Gift Card</div>
                                    <div class="payment-description">Use your LDIE Zone gift card</div>
                                </div>
                            </div>
                        </div>
                        <div class="checkout-navigation">
                            <button class="nav-btn" onclick="prevStep(4)">Back</button>
                            <button class="nav-btn primary" onclick="completeOrder()">Complete Order</button>
                        </div>
                    </div>

                    <!-- Step 5: Order Complete -->
                    <div class="checkout-form" id="step5">
                        <div class="success-screen">
                            <div class="success-icon">
                                <i class="fa-solid fa-check-circle"></i>
                            </div>
                            <h2 class="success-title">Order Complete!</h2>
                            <p class="success-message">
                                Thank you for your purchase! Your order has been confirmed and will be shipped soon.<br>
                                Order ID: <strong id="orderId">#LDIE2024001</strong>
                            </p>
                            <button class="nav-btn primary" onclick="goHome()">Continue Shopping</button>
                        </div>
                    </div>
                </div>

                <!-- Right Column - Order Summary -->
                <div class="order-summary glass-panel">
                    <div class="summary-header">
                        <h2>Order Summary</h2>
                    </div>
                    
                    <div class="summary-items" id="summaryItems">
                        <!-- Products will be dynamically added here -->
                    </div>

                    <div class="summary-details">
                        <div class="summary-item">
                            <span>Subtotal</span>
                            <span id="subtotal">$0.00</span>
                        </div>
                        <div class="summary-item">
                            <span>Shipping</span>
                            <span id="shippingCost">$0.00</span>
                        </div>
                        <div class="summary-item">
                            <span>Tax</span>
                            <span id="taxAmount">$0.00</span>
                        </div>
                        <div class="summary-item summary-total">
                            <span>Total</span>
                            <span id="totalAmount">$0.00</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footerContainer">
        <div class="socialIcons">
            <a href=""><i class="fa-brands fa-facebook"></i></a>
            <a href=""><i class="fa-brands fa-instagram"></i></a>
            <a href=""><i class="fa-brands fa-twitter"></i></a>
            <a href=""><i class="fa-brands fa-google-plus"></i></a>
            <a href=""><i class="fa-brands fa-youtube"></i></a>
        </div>
        <div class="footerNav">
            <ul>
                <li><a href="">HOME</a></li>
                <li><a href="">NEWS</a></li>
                <li><a href="">PRODUCTS</a></li>
                <li><a href="">CONTACT US</a></li>
                <li><a href="">OUR TEAM</a></li>
            </ul>
        </div>
        <div class="footerBottom">
            <p>Copyright &copy;2025; Designed by <span class="designer">Nhóm</span></p>
        </div>
    </div>

    <script src="assets/js/script.js" defer></script>
    <script src="assets/js/notification.js"></script>
    <script src="assets/js/checkout.js" defer></script>
  <script type="module" src="assets/js/user-auth-handler.js"></script>
</body>
</html>
