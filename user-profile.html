<!doctype html>
<html lang="en">
<head>
    <!-- DNS Prefetch & Preconnect for Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Profile</title> 

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Barlow:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<link href="assets/css/header-footer.css" rel="stylesheet">
<link href="assets/css/user-profile.css" rel="stylesheet">

<!-- AWS SDK v2 for Location Service (GPS/Geolocation) -->
<script src="https://sdk.amazonaws.com/js/aws-sdk-2.1563.0.min.js"></script>
</head>
<body>
   <header>
        <nav class="navbar section-content">
            <div class="header-top">
                <a href="homepage.html" class="nav-logo" aria-label="Trang chủ Retro Sound">
                    <img src="assets/images/shopname.jpg" width="150" height="60" alt="Retro Sound Logo">
                </a>
                <div class="header-icons" role="group" aria-label="Lối tắt điều hướng">
                    <button type="button" class="header-icon search-btn" aria-label="Tìm kiếm" title="Tìm kiếm">
                        <i class="fa-solid fa-magnifying-glass" aria-hidden="true"></i>
                    </button>
                    <button type="button" class="header-icon cart-btn" id="cartButton" aria-expanded="false" aria-controls="cartTabPanel cartModal" title="Giỏ hàng">
                        <i class="fa-solid fa-cart-shopping" aria-hidden="true"></i>
                        <span class="badge" id="cartBadge"></span>
                    </button>
                    <button type="button" class="header-icon user-btn" aria-label="Tài khoản" title="Tài khoản">
                        <i class="fa-regular fa-user" aria-hidden="true"></i>
                        <div class="user-dropdown" id="userDropdown">
                            <div class="user-info">
                                <div class="user-avatar">
                                    <i class="fas fa-user-circle"></i>
                                </div>
                                <div class="user-details">
                                    <div class="user-name">Oldiezone Member</div>
                                    <div class="user-rank">Guest</div>
                                </div>
                            </div>
                            <div class="dropdown-divider"></div>
                            <ul class="dropdown-menu">
                                <li><a href="login.html" class="dropdown-link"><i class="fas fa-sign-in-alt"></i>Sign In</a></li>
                                <li><a href="signup.html" class="dropdown-link"><i class="fas fa-user-plus"></i>Register</a></li>
                            </ul>
                        </div>
                    </button>
                    <button class="header-icon chatbot-btn" id="chatbotToggle">
                        <i class="fas fa-robot"></i>
                    </button>
                </div>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="audio-products.html" class="nav-link">AUDIO</a>
                    <ul class="submenu">
                        <li><a href="audio-cd-products.html" class="submenu-link">CD</a></li>
                        <li><a href="audio-vinyl-products.html" class="submenu-link">VINYL</a></li>
                    </ul>
                </li>
                <li class="nav-item"><a href="vhs-products.html" class="nav-link">VHS</a></li>
                <li class="nav-item"><a href="cassette-tape-products.html" class="nav-link">CASSETTE TAPE</a></li>
                <li class="nav-item"><a href="camera-products.html" class="nav-link">POLA CAMERA</a></li>
                <li class="nav-item">
                    <a href="accessory-products.html" class="nav-link">ACCESSORIES</a>
                    <ul class="submenu">
                        <li><a href="accessory-cassette-player-products.html" class="submenu-link">CASSETTE PLAYER</a></li>
                        <li><a href="accessory-ipod-products.html" class="submenu-link">IPOD</a></li>
                        <li><a href="accessory-cd-player-products.html" class="submenu-link">CD PLAYER</a></li>
                    </ul>
                </li>
                <li class="nav-item"><a href="retro-cine.html" class="nav-link">CINE ROOM</a></li>
                <li class="nav-item"><a href="market-place.html" class="nav-link">THREAD</a></li>
                <li class="nav-item"><a href="news.html" class="nav-link">NEWS</a></li>
            </ul>
        </nav>
        <div class="search-bar" id="searchBar">
            <div class="search-container">
                <input type="text" placeholder="Tìm kiếm sản phẩm..." class="search-input" id="searchInput">
                <button class="search-close" id="searchClose" aria-label="Đóng tìm kiếm">
                    <i class="fa-solid fa-times"></i>
                </button>
                <div class="search-dropdown" id="searchDropdown"></div>
            </div>
        </div>
    </header>

  <main class="profile-main">
    <section class="artist-hero" id="overview">
      <button class="spotify-btn" type="button" id="spotifyToggle" aria-label="Open mini Spotify">
        <img src="assets/images/spotifyicon.png" alt="" aria-hidden="true">
      </button>
      <button class="hero-next-btn" type="button" id="heroFlipToggle" aria-label="Flip to back">
        <img src="assets/images/nextpageicon.png" alt="" aria-hidden="true">
      </button>
      <div class="spotify-panel" id="spotifyPanel" aria-hidden="true">
        <iframe
          id="spotifyPlayer"
          src="https://open.spotify.com/embed/playlist/6XVB6xOrESMAEucInnMB8x?utm_source=generator"
          allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
          loading="lazy"></iframe>
        <div class="spotify-tracks">
          <h3>Select playlist</h3>
          <button class="spotify-track-btn active" type="button"
            data-src="https://open.spotify.com/embed/playlist/6XVB6xOrESMAEucInnMB8x?utm_source=generator">
            Main playlist
          </button>
          <button class="spotify-track-btn" type="button"
            data-src="https://open.spotify.com/embed/playlist/37i9dQZF1DX0XUsuxWHRQd?utm_source=generator">
            Jazz focus
          </button>
          <button class="spotify-track-btn" type="button"
            data-src="https://open.spotify.com/embed/playlist/37i9dQZF1DWYa6Zq7iv77m?utm_source=generator">
            Chill vibes
          </button>
        </div>
      </div>
      <div class="hero-flip">
        <div class="hero-card" id="heroCard">
          <div class="hero-face hero-front">
            <div class="hero-container" id="heroFront">
              <div class="hero-portrait">
                <img src="assets/images/Tranduythanhanhdaidien.jpg" alt="Huynh Quoc Long portrait">
              </div>
              <div class="hero-details">
                <p class="text-uppercase mb-1 fw-semibold member-rank" data-rank="gold">Gold Member</p>
                <h1><span data-field-display="firstName">Long</span> <span data-field-display="lastName">Huynh</span></h1>
                <div class="hero-meta">
                  <span data-field-display="city">Ho Chi Minh City</span>
                  <span data-field-display="birthdate">09/05/2001</span>
                  <span data-field-display="country">Vietnam</span>
                  <span data-field-display="gender">Man</span>
                </div>
                <div class="hero-actions">
                  <button class="hero-btn primary" id="heroEditBtn">Edit profile</button>
                  <button class="hero-btn secondary" id="changePasswordBtn">Change Password</button>
                </div>
                <div class="hero-tabs">
                  <button class="active" data-view="overview">Overview</button>
                  <button data-view="shipping">Shipping Address</button>
                  <button data-view="orders">Purchased Orders</button>
                </div>
              </div>
            </div>
          </div>
          <div class="hero-face hero-back" id="heroBack">
            <div class="passport-logo" aria-hidden="true">OLDIEZONE</div>
            <div class="passport-photo">
              <img src="assets/images/Tranduythanhanhdaidien.jpg" alt="Passport portrait">
            </div>
            <div class="passport-info d-flex flex-column">
              <div class="passport-field">
                <label>First Name</label>
                <span data-field-display="firstName">Long</span>
              </div>
              <div class="passport-field">
                <label>Last Name</label>
                <span data-field-display="lastName">Huynh</span>
              </div>
              <div class="passport-field">
                <label>City</label>
                <span data-field-display="city">Ho Chi Minh City</span>
              </div>
              <div class="passport-field">
                <label>Birthdate</label>
                <span data-field-display="birthdate">09/05/2001</span>
              </div>
              <div class="passport-field">
                <label>Country</label>
                <span data-field-display="country">Vietnam</span>
              </div>
              <div class="passport-field">
                <label>Gender</label>
                <span data-field-display="gender">Man</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="wishlist-section" id="songs">
      <article class="glass-card wishlist-panel">
        <div class="wishlist-header">
          <div>
            <h2 id="featuredPanelTitle">Wishlist</h2>
            <p class="wishlist-subtitle" id="featuredPanelAction">Shows you&rsquo;ve hearted for a future retro screening.</p>
          </div>
        </div>
        <div class="wishlist-grid">
          <a href="#" class="wishlist-card" data-url="">
            <img src="assets/images/film VHS/Titanic.png" alt="Titanic VHS cover">
            <div class="wishlist-card-body">
              <div class="wishlist-card-header">
                <h3>Titanic</h3>
                <span class="wishlist-like">&hearts;</span>
              </div>
              <span class="wishlist-note">Saved July 12 · Romance epic</span>
            </div>
          </a>
          <a href="#" class="wishlist-card" data-url="">
            <img src="assets/images/film VHS/toprun.png" alt="Top Gun VHS cover">
            <div class="wishlist-card-body">
              <div class="wishlist-card-header">
                <h3>Top Gun</h3>
                <span class="wishlist-like">&hearts;</span>
              </div>
              <span class="wishlist-note">Saved July 18 · Need for speed night</span>
            </div>
          </a>
          <a href="#" class="wishlist-card" data-url="">
            <img src="assets/images/film VHS/sleepless.png" alt="Sleepless in Seattle VHS cover">
            <div class="wishlist-card-body">
              <div class="wishlist-card-header">
                <h3>Sleepless in Seattle</h3>
                <span class="wishlist-like">&hearts;</span>
              </div>
              <span class="wishlist-note">Saved July 24 · Cozy date idea</span>
            </div>
          </a>
          <a href="#" class="wishlist-card" data-url="">
            <img src="assets/images/film VHS/beauty&amp;beast.png" alt="Beauty and the Beast VHS cover">
            <div class="wishlist-card-body">
              <div class="wishlist-card-header">
                <h3>Beauty &amp; The Beast</h3>
                <span class="wishlist-like">&hearts;</span>
              </div>
              <span class="wishlist-note">Saved July 28 · Family favourite</span>
            </div>
          </a>
          <a href="#" class="wishlist-card" data-url="">
            <img src="assets/images/film VHS/MIB.png" alt="Men in Black VHS cover">
            <div class="wishlist-card-body">
              <div class="wishlist-card-header">
                <h3>Men in Black</h3>
                <span class="wishlist-like">&hearts;</span>
              </div>
              <span class="wishlist-note">Saved August 01 · Sci-fi marathon</span>
            </div>
          </a>
          <a href="#" class="wishlist-card" data-url="">
            <img src="assets/images/film VHS/toystory.png" alt="Toy Story VHS cover">
            <div class="wishlist-card-body">
              <div class="wishlist-card-header">
                <h3>Toy Story 2</h3>
                <span class="wishlist-like">&hearts;</span>
              </div>
              <span class="wishlist-note">Saved August 04 · Pixar nostalgia</span>
            </div>
          </a>
          <a href="#" class="wishlist-card" data-url="">
            <img src="assets/images/film VHS/Indiana.png" alt="Jurassic Park VHS cover">
            <div class="wishlist-card-body">
              <div class="wishlist-card-header">
                <h3>Jurassic Park</h3>
                <span class="wishlist-like">&hearts;</span>
              </div>
              <span class="wishlist-note">Saved August 12 · Creature feature</span>
            </div>
          </a>
          <a href="#" class="wishlist-card" data-url="">
            <img src="assets/images/film VHS/Pocahontas.png" alt="Pocahontas VHS cover">
            <div class="wishlist-card-body">
              <div class="wishlist-card-header">
                <h3>Pocahontas</h3>
                <span class="wishlist-like">&hearts;</span>
              </div>
              <span class="wishlist-note">Saved August 18 · Classic sing-along</span>
            </div>
          </a>
          <a href="#" class="wishlist-card" data-url="">
            <img src="assets/images/film VHS/ET.png" alt="E.T. VHS cover">
            <div class="wishlist-card-body">
              <div class="wishlist-card-header">
                <h3>E.T. The Extra-Terrestrial</h3>
                <span class="wishlist-like">&hearts;</span>
              </div>
              <span class="wishlist-note">Saved August 22 · Homecoming night</span>
            </div>
          </a>
        </div>
        <div class="step-nav-bar">
          <div class="step-nav" data-nav="wishlist" aria-label="Wishlist navigation">
            <button type="button" class="step-button step-button--control" data-action="prev" aria-label="Previous items">‹</button>
            <button type="button" class="step-button" data-index-slot="0"></button>
            <button type="button" class="step-button" data-index-slot="1"></button>
            <button type="button" class="step-button" data-index-slot="2"></button>
            <button type="button" class="step-button step-button--control" data-action="next" aria-label="Next items">›</button>
          </div>
        </div>
      </article>
    </section>

    <!-- Booked Movies Section -->
    <section class="wishlist-section" id="bookedMovies">
      <article class="glass-card wishlist-panel">
        <div class="wishlist-header">
          <div>
            <h2>Booked Movies</h2>
            <p class="wishlist-subtitle">Your upcoming movie screenings at the VHS cinema.</p>
          </div>
        </div>
        <div class="booked-movies-grid" id="bookedMoviesGrid">
          <!-- Booked movies will be inserted here by JavaScript -->
        </div>
        <div class="step-nav-bar">
          <div class="step-nav" data-nav="booked-movies" aria-label="Booked movies navigation">
            <button type="button" class="step-button step-button--control" data-action="prev" aria-label="Previous items">‹</button>
            <button type="button" class="step-button" data-index-slot="0"></button>
            <button type="button" class="step-button" data-index-slot="1"></button>
            <button type="button" class="step-button" data-index-slot="2"></button>
            <button type="button" class="step-button step-button--control" data-action="next" aria-label="Next items">›</button>
          </div>
        </div>
      </article>
    </section>

    <!-- Edit Profile Section -->
    <section class="edit-profile-section" id="editProfileSection">
      <article class="glass-card">
        <div id="editProfilePanel">
          <form id="editProfileForm" class="edit-form-grid">
            <div class="edit-form-columns">
              <div class="edit-form-column">
                <div class="edit-field-group">
                  <label for="editFirstName">First name</label>
                  <input id="editFirstName" type="text" data-field-input="firstName" placeholder="Enter first name">
                </div>
                <div class="edit-field-group">
                  <label for="editLastName">Last name</label>
                  <input id="editLastName" type="text" data-field-input="lastName" placeholder="Enter last name">
                </div>
                <div class="edit-field-group">
                  <label for="editCountry">Country</label>
                  <input id="editCountry" type="text" data-field-input="country" placeholder="Enter country">
                </div>
              </div>
              <div class="edit-form-column">
                <div class="edit-field-group">
                  <label for="editCity">City</label>
                  <input id="editCity" type="text" data-field-input="city" placeholder="City">
                </div>
                <div class="edit-field-group">
                  <label for="editBirthdate">Birthdate</label>
                  <input id="editBirthdate" type="date" data-field-input="birthdate">
                </div>
                <div class="edit-field-group">
                  <label for="editGender">Gender</label>
                  <select id="editGender" data-field-input="gender">
                    <option value="Man">Man</option>
                    <option value="Woman">Woman</option>
                    <option value="Other">Other</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="avatar-uploader">
              <label class="avatar-drop" for="editAvatar">
                <img id="editAvatarPreview" alt="Avatar preview">
                <span class="avatar-add-label">Add image</span>
              </label>
              <input id="editAvatar" type="file" accept="image/*" hidden>
            </div>
            <div class="edit-profile-actions" style="display: flex; gap: 1rem; align-items: flex-start; justify-content: flex-end;">
              <button class="hero-btn secondary" id="editProfileClearBtn" type="button">Clear</button>
              <button class="hero-btn primary" id="editProfileSaveBtn" type="button">Save profile</button>
            </div>
          </form>
        </div>
      </article>
    </section>

    <!-- Purchased Orders Section -->
    <section class="purchased-orders-section" id="purchasedOrdersSection" style="display: none;">
      <article class="glass-card">
        <div class="orders-header">
          <h2>Purchased Orders</h2>
          <p class="orders-subtitle">View your order history and track deliveries</p>
        </div>
        <div class="orders-list" id="ordersList">
          <!-- Orders will be dynamically loaded here -->
        </div>
      </article>
    </section>

    <!-- Shipping Address Section -->
    <section class="shipping-address-section" id="shippingAddressSection">
      <article class="glass-card">
        <div id="shippingAddressPanel">
          <form id="shippingAddressForm" class="shipping-form-modern">
            <h3 class="shipping-form-title">Update Address Information</h3>

            <button type="button" class="gps-btn" id="shippingGPSBtn">
              <i class="fas fa-location-crosshairs"></i>
              Use GPS
            </button>

            <div class="shipping-form-grid">
              <div class="shipping-row-2">
                <div class="shipping-field-group">
                  <label for="shippingFullName">Full Name</label>
                  <input id="shippingFullName" type="text" data-field-input="shippingFullName" placeholder="Huynh Quoc Long">
                </div>
                <div class="shipping-field-group">
                  <label for="shippingPhone">Phone Number</label>
                  <input id="shippingPhone" type="tel" data-field-input="shippingPhone" placeholder="(+84) 787 567 381">
                </div>
              </div>
              
              <div class="shipping-field-group">
                <label for="shippingCity">City / Province / District</label>
                <select id="shippingCity" data-field-input="shippingCity">
                  <option value="">Select Province/City</option>
                  <option value="Hà Nội">Hà Nội</option>
                  <option value="TP. Hồ Chí Minh">TP. Hồ Chí Minh</option>
                  <option value="Đà Nẵng">Đà Nẵng</option>
                  <option value="Hải Phòng">Hải Phòng</option>
                  <option value="Cần Thơ">Cần Thơ</option>
                  <option value="Hà Giang">Hà Giang</option>
                  <option value="Cao Bằng">Cao Bằng</option>
                  <option value="Lào Cai">Lào Cai</option>
                  <option value="Bắc Kạn">Bắc Kạn</option>
                  <option value="Lạng Sơn">Lạng Sơn</option>
                  <option value="Tuyên Quang">Tuyên Quang</option>
                  <option value="Thái Nguyên">Thái Nguyên</option>
                  <option value="Phú Thọ">Phú Thọ</option>
                  <option value="Yên Bái">Yên Bái</option>
                  <option value="Bắc Giang">Bắc Giang</option>
                  <option value="Quảng Ninh">Quảng Ninh</option>
                  <option value="Hòa Bình">Hòa Bình</option>
                  <option value="Sơn La">Sơn La</option>
                  <option value="Điện Biên">Điện Biên</option>
                  <option value="Lai Châu">Lai Châu</option>
                  <option value="Vĩnh Phúc">Vĩnh Phúc</option>
                  <option value="Bắc Ninh">Bắc Ninh</option>
                  <option value="Hải Dương">Hải Dương</option>
                  <option value="Hưng Yên">Hưng Yên</option>
                  <option value="Hà Nam">Hà Nam</option>
                  <option value="Nam Định">Nam Định</option>
                  <option value="Ninh Bình">Ninh Bình</option>
                  <option value="Thanh Hóa">Thanh Hóa</option>
                  <option value="Nghệ An">Nghệ An</option>
                  <option value="Hà Tĩnh">Hà Tĩnh</option>
                  <option value="Quảng Bình">Quảng Bình</option>
                  <option value="Quảng Trị">Quảng Trị</option>
                  <option value="Thừa Thiên - Huế">Thừa Thiên - Huế</option>
                  <option value="Quảng Nam">Quảng Nam</option>
                  <option value="Quảng Ngãi">Quảng Ngãi</option>
                  <option value="Bình Định">Bình Định</option>
                  <option value="Phú Yên">Phú Yên</option>
                  <option value="Khánh Hòa">Khánh Hòa</option>
                  <option value="Ninh Thuận">Ninh Thuận</option>
                </select>
              </div>
              
              <div class="shipping-field-group">
                <label for="shippingStreet">Street Address</label>
                <input id="shippingStreet" type="text" data-field-input="shippingStreet" placeholder="Ký túc xá Khu B - Đại học Quốc gia TP.HCM, Tô Vĩnh Diện">
              </div>
              
              <div class="shipping-type-group">
                <label class="shipping-type-label">Address Type:</label>
                <div class="shipping-type-options">
                  <label class="shipping-type-radio">
                    <input type="radio" name="addressType" value="home" checked>
                    <span>Home</span>
                  </label>
                  <label class="shipping-type-radio">
                    <input type="radio" name="addressType" value="office">
                    <span>Office</span>
                  </label>
                </div>
              </div>
            </div>
            
            <div class="shipping-actions">
              <button class="hero-btn secondary" id="shippingClearBtn" type="button">Cancel</button>
              <button class="hero-btn primary" id="shippingSaveBtn" type="button">Save</button>
            </div>
          </form>
          <div id="shippingAddressSaved" class="shipping-saved-display d-none">
            <h3 class="shipping-form-title">Saved Shipping Address</h3>
            <p class="shipping-form-subtitle">Your default shipping information</p>
            <div class="shipping-info-card">
              <div class="shipping-info-grid">
                <div class="shipping-info-item">
                  <span class="shipping-label">Full Name</span>
                  <span class="shipping-value" id="displayShippingFullName">--</span>
                </div>
                <div class="shipping-info-item">
                  <span class="shipping-label">Phone Number</span>
                  <span class="shipping-value" id="displayShippingPhone">--</span>
                </div>
              </div>
              <div class="shipping-info-item">
                <span class="shipping-label">City / Province / District</span>
                <span class="shipping-value" id="displayShippingCity">--</span>
              </div>
              <div class="shipping-info-item">
                <span class="shipping-label">Street Address</span>
                <span class="shipping-value" id="displayShippingStreet">--</span>
              </div>
            </div>
            <button class="hero-btn primary mt-3" id="shippingEditBtn" type="button">Edit Address</button>
          </div>
        </div>
      </article>
    </section>

    <!-- Change Password Modal -->
    <div class="change-password-modal" id="changePasswordModal" aria-hidden="true">
      <div class="change-password-backdrop" data-password-close></div>
      <div class="change-password-content" role="dialog" aria-modal="true">
        <button class="change-password-close" type="button" data-password-close aria-label="Close">&times;</button>
        <h2>Change Password</h2>
        <p class="change-password-subtitle">Update your account password</p>
        <form id="changePasswordForm" class="change-password-form">
          <div class="password-field-group">
            <label for="currentPassword">Current Password *</label>
            <div class="password-input-wrapper">
              <input id="currentPassword" type="password" name="currentPassword" required placeholder="Enter current password">
              <button type="button" class="toggle-password-visibility" data-target="currentPassword" aria-label="Show password">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                  <circle cx="12" cy="12" r="3"></circle>
                </svg>
              </button>
            </div>
          </div>
          <div class="password-field-group">
            <label for="newPassword">New Password *</label>
            <div class="password-input-wrapper">
              <input id="newPassword" type="password" name="newPassword" required placeholder="Enter new password" minlength="6">
              <button type="button" class="toggle-password-visibility" data-target="newPassword" aria-label="Show password">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                  <circle cx="12" cy="12" r="3"></circle>
                </svg>
              </button>
            </div>
            <small class="password-hint">At least 6 characters</small>
          </div>
          <div class="password-field-group">
            <label for="confirmPassword">Confirm New Password *</label>
            <div class="password-input-wrapper">
              <input id="confirmPassword" type="password" name="confirmPassword" required placeholder="Confirm new password">
              <button type="button" class="toggle-password-visibility" data-target="confirmPassword" aria-label="Show password">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                  <circle cx="12" cy="12" r="3"></circle>
                </svg>
              </button>
            </div>
          </div>
          <p class="password-message" id="passwordMessage" role="alert" hidden></p>
          <div class="password-actions">
            <button type="button" class="hero-btn secondary" data-password-close>Cancel</button>
            <button type="submit" class="hero-btn primary">Update Password</button>
          </div>
        </form>
      </div>
    </div>


      
      <div class="tickets-grid">
        
        <div class="ticket-detail-content d-none" id="ticketDetailContent">
          <div class="ticket-detail-layout">
            <div class="ticket-detail-visual">
              <img id="ticketDetailPoster" alt="Selected screening artwork">
            </div>
            <div class="ticket-detail-main">
              <div class="ticket-detail-header">
                <h3 class="ticket-detail-title" id="ticketDetailTitle"></h3>
                <span class="ticket-status" id="ticketDetailStatus"></span>
              </div>
              <dl class="ticket-detail-list">
                <div class="ticket-detail-item">
                  <dt>Date &amp; time</dt>
                  <dd id="ticketDetailDate"></dd>
                </div>
                <div class="ticket-detail-item">
                  <dt>Screening room</dt>
                  <dd id="ticketDetailRoom"></dd>
                </div>
                <div class="ticket-detail-item">
                  <dt>Summary</dt>
                  <dd id="ticketDetailSummary"></dd>
                </div>
              </dl>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Chatbot Window -->
  <div class="chatbot-window" id="chatbotWindow">
    <div class="chatbot-header">
      <h3>Chatbot Assistant</h3>
      <button class="chatbot-close" id="chatbotClose">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="chatbot-messages" id="chatbotMessages">
      <div class="message-container bot">
        <div class="message bot">
          Hello! How can I help you today?
          <div class="timestamp">Just now</div>
        </div>
      </div>
    </div> 
    <div class="chatbot-input">
      <input type="text" id="chatbotInput" placeholder="Type your message...">
      <button id="chatbotSend">
        <i class="fas fa-paper-plane"></i>
      </button>
    </div>
  </div>

  <!-- Cart Modal -->
  <div class="cart-overlay" id="cartOverlay"></div>
  <div class="cart-modal" id="cartModal">
    <div class="cart-header">
      <h3>GIỎ HÀNG CỦA BẠN</h3>
      <button class="cart-close" id="cartClose">
        <i class="fas fa-times"></i>
      </button>
    </div>
    
    <div class="cart-items" id="cartItems">
      <div class="cart-empty" id="cartEmpty">
        <i class="fas fa-shopping-cart"></i>
        <p>Giỏ hàng của bạn đang trống</p>
      </div>
    </div>
    
    <div class="cart-footer" id="cartFooter" style="display: none;">
      <div class="cart-total">
        <span>Tổng cộng:</span>
        <span id="cartTotalAmount">0</span>
      </div>
      <div class="cart-actions">
        <button class="checkout-btn" id="checkoutBtn">Thanh toán</button>
        <button class="continue-shopping" id="continueShopping">TIẾP TỤC MUA HÀNG</button>
      </div>
    </div>
  </div>

  <script src="assets/js/product-loader.js"></script>
  <script src="assets/js/search.js"></script>
  <script src="assets/js/cart.js"></script>
  <script src="assets/js/chatbot.js"></script>
  <script src="assets/js/notification.js"></script>
  <script src="assets/js/confirm-modal.js"></script>
  <script type="module" src="assets/js/user-wishlist.js"></script>
  <script type="module" src="assets/js/user-booked-movies.js"></script>
  <script type="module" src="assets/js/user-purchased-orders.js"></script>
  <script type="module" src="assets/js/user-profile-shipping.js"></script>
  <script type="module" src="assets/js/user-profile.js"></script>
  <script type="module" src="assets/js/user-auth-handler.js"></script>
</body>
</html>
